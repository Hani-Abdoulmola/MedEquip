# PRODUCT CATEGORIES - USAGE EXAMPLES
## Medical Equipment Category Hierarchy for MediTrust

**Date:** 2025-11-14  
**Purpose:** Example category structure and usage patterns

---

## ğŸ¥ EXAMPLE CATEGORY HIERARCHY

### **Suggested Medical Equipment Categories**

```
ğŸ“¦ Medical Imaging Equipment (Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø·Ø¨ÙŠ)
    â”œâ”€â”€ ğŸ“· X-Ray Machines (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ©)
    â”‚   â”œâ”€â”€ Digital X-Ray (Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©)
    â”‚   â”œâ”€â”€ Portable X-Ray (Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©)
    â”‚   â””â”€â”€ Dental X-Ray (Ø£Ø´Ø¹Ø© Ø§Ù„Ø£Ø³Ù†Ø§Ù†)
    â”œâ”€â”€ ğŸ”¬ CT Scanners (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ù‚Ø·Ø¹ÙŠ)
    â”œâ”€â”€ ğŸ§² MRI Machines (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø±Ù†ÙŠÙ† Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ)
    â””â”€â”€ ğŸ”Š Ultrasound Equipment (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…ÙˆØ¬Ø§Øª ÙÙˆÙ‚ Ø§Ù„ØµÙˆØªÙŠØ©)

ğŸ“¦ Surgical Equipment (Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©)
    â”œâ”€â”€ ğŸ”ª Surgical Instruments (Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©)
    â”‚   â”œâ”€â”€ Scalpels & Blades (Ø§Ù„Ù…Ø´Ø§Ø±Ø· ÙˆØ§Ù„Ø´ÙØ±Ø§Øª)
    â”‚   â”œâ”€â”€ Forceps & Clamps (Ø§Ù„Ù…Ù„Ø§Ù‚Ø· ÙˆØ§Ù„Ù…Ø´Ø§Ø¨Ùƒ)
    â”‚   â””â”€â”€ Scissors & Retractors (Ø§Ù„Ù…Ù‚ØµØ§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ø¹Ø¯Ø§Øª)
    â”œâ”€â”€ ğŸ’¡ Surgical Lights (Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª)
    â”œâ”€â”€ ğŸ›ï¸ Operating Tables (Ø·Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª)
    â””â”€â”€ ğŸ”Œ Electrosurgical Units (ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¬Ø±Ø§Ø­Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©)

ğŸ“¦ Laboratory Equipment (Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª)
    â”œâ”€â”€ ğŸ§ª Analyzers (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„)
    â”‚   â”œâ”€â”€ Blood Analyzers (Ù…Ø­Ù„Ù„Ø§Øª Ø§Ù„Ø¯Ù…)
    â”‚   â”œâ”€â”€ Chemistry Analyzers (Ù…Ø­Ù„Ù„Ø§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡)
    â”‚   â””â”€â”€ Urine Analyzers (Ù…Ø­Ù„Ù„Ø§Øª Ø§Ù„Ø¨ÙˆÙ„)
    â”œâ”€â”€ ğŸ”¬ Microscopes (Ø§Ù„Ù…Ø¬Ø§Ù‡Ø±)
    â”œâ”€â”€ ğŸŒ¡ï¸ Incubators (Ø§Ù„Ø­Ø§Ø¶Ù†Ø§Øª)
    â””â”€â”€ âš—ï¸ Centrifuges (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø·Ø±Ø¯ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ)

ğŸ“¦ Patient Monitoring (Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø±Ø¶Ù‰)
    â”œâ”€â”€ ğŸ’“ Vital Signs Monitors (Ø£Ø¬Ù‡Ø²Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø­ÙŠÙˆÙŠØ©)
    â”œâ”€â”€ ğŸ“Š ECG Machines (Ø£Ø¬Ù‡Ø²Ø© ØªØ®Ø·ÙŠØ· Ø§Ù„Ù‚Ù„Ø¨)
    â”œâ”€â”€ ğŸ« Pulse Oximeters (Ø£Ø¬Ù‡Ø²Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†)
    â””â”€â”€ ğŸ©º Blood Pressure Monitors (Ø£Ø¬Ù‡Ø²Ø© Ù‚ÙŠØ§Ø³ Ø¶ØºØ· Ø§Ù„Ø¯Ù…)

ğŸ“¦ Life Support Equipment (Ù…Ø¹Ø¯Ø§Øª Ø¯Ø¹Ù… Ø§Ù„Ø­ÙŠØ§Ø©)
    â”œâ”€â”€ ğŸ« Ventilators (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ)
    â”œâ”€â”€ ğŸ’‰ Infusion Pumps (Ù…Ø¶Ø®Ø§Øª Ø§Ù„Ø­Ù‚Ù†)
    â”œâ”€â”€ ğŸ©¹ Defibrillators (Ø£Ø¬Ù‡Ø²Ø© Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø¬ÙØ§Ù†)
    â””â”€â”€ ğŸ›ï¸ ICU Equipment (Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø¹Ù†Ø§ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ²Ø©)

ğŸ“¦ Sterilization Equipment (Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªØ¹Ù‚ÙŠÙ…)
    â”œâ”€â”€ ğŸ”¥ Autoclaves (Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØ¹Ù‚ÙŠÙ… Ø¨Ø§Ù„Ø¨Ø®Ø§Ø±)
    â”œâ”€â”€ ğŸ§¼ Washers & Disinfectors (Ø§Ù„ØºØ³Ø§Ù„Ø§Øª ÙˆØ§Ù„Ù…Ø·Ù‡Ø±Ø§Øª)
    â””â”€â”€ ğŸ“¦ Sterilization Containers (Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„ØªØ¹Ù‚ÙŠÙ…)
```

---

## ğŸ’» SEEDER EXAMPLE

### **Create ProductCategorySeeder**

```php
<?php

namespace Database\Seeders;

use App\Models\ProductCategory;
use Illuminate\Database\Seeder;

class ProductCategorySeeder extends Seeder
{
    public function run(): void
    {
        // 1. Medical Imaging Equipment
        $medicalImaging = ProductCategory::create([
            'name' => 'Medical Imaging Equipment',
            'name_ar' => 'Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø·Ø¨ÙŠ',
            'slug' => 'medical-imaging',
            'description' => 'Diagnostic imaging equipment including X-Ray, CT, MRI, and Ultrasound',
            'is_active' => true,
            'sort_order' => 1,
        ]);

        // 1.1 X-Ray Machines
        $xray = ProductCategory::create([
            'name' => 'X-Ray Machines',
            'name_ar' => 'Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ©',
            'slug' => 'xray-machines',
            'parent_id' => $medicalImaging->id,
            'is_active' => true,
            'sort_order' => 1,
        ]);

        ProductCategory::create([
            'name' => 'Digital X-Ray',
            'name_ar' => 'Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©',
            'slug' => 'digital-xray',
            'parent_id' => $xray->id,
            'is_active' => true,
            'sort_order' => 1,
        ]);

        ProductCategory::create([
            'name' => 'Portable X-Ray',
            'name_ar' => 'Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø©',
            'slug' => 'portable-xray',
            'parent_id' => $xray->id,
            'is_active' => true,
            'sort_order' => 2,
        ]);

        // 1.2 CT Scanners
        ProductCategory::create([
            'name' => 'CT Scanners',
            'name_ar' => 'Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ù‚Ø·Ø¹ÙŠ',
            'slug' => 'ct-scanners',
            'parent_id' => $medicalImaging->id,
            'is_active' => true,
            'sort_order' => 2,
        ]);

        // 1.3 MRI Machines
        ProductCategory::create([
            'name' => 'MRI Machines',
            'name_ar' => 'Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø±Ù†ÙŠÙ† Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ',
            'slug' => 'mri-machines',
            'parent_id' => $medicalImaging->id,
            'is_active' => true,
            'sort_order' => 3,
        ]);

        // 2. Surgical Equipment
        $surgical = ProductCategory::create([
            'name' => 'Surgical Equipment',
            'name_ar' => 'Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©',
            'slug' => 'surgical-equipment',
            'description' => 'Surgical instruments, lights, tables, and electrosurgical units',
            'is_active' => true,
            'sort_order' => 2,
        ]);

        // 2.1 Surgical Instruments
        $instruments = ProductCategory::create([
            'name' => 'Surgical Instruments',
            'name_ar' => 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¬Ø±Ø§Ø­ÙŠØ©',
            'slug' => 'surgical-instruments',
            'parent_id' => $surgical->id,
            'is_active' => true,
            'sort_order' => 1,
        ]);

        ProductCategory::create([
            'name' => 'Scalpels & Blades',
            'name_ar' => 'Ø§Ù„Ù…Ø´Ø§Ø±Ø· ÙˆØ§Ù„Ø´ÙØ±Ø§Øª',
            'slug' => 'scalpels-blades',
            'parent_id' => $instruments->id,
            'is_active' => true,
            'sort_order' => 1,
        ]);

        // 3. Laboratory Equipment
        $laboratory = ProductCategory::create([
            'name' => 'Laboratory Equipment',
            'name_ar' => 'Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª',
            'slug' => 'laboratory-equipment',
            'description' => 'Laboratory analyzers, microscopes, incubators, and centrifuges',
            'is_active' => true,
            'sort_order' => 3,
        ]);

        // Add more categories as needed...
    }
}
```

**Register in DatabaseSeeder:**
```php
public function run(): void
{
    $this->call([
        UserTypeSeeder::class,
        RolePermissionSeeder::class,
        AdminSeeder::class,
        ProductCategorySeeder::class, // Add this
    ]);
}
```

---

## ğŸ” QUERY EXAMPLES

### **Get All Root Categories**
```php
$rootCategories = ProductCategory::roots()->active()->ordered()->get();

foreach ($rootCategories as $category) {
    echo $category->name . "\n";
    foreach ($category->children as $child) {
        echo "  â””â”€â”€ " . $child->name . "\n";
    }
}
```

### **Get Category with All Descendants**
```php
$category = ProductCategory::with('children.children.children')->find(1);

// Recursive function to display hierarchy
function displayCategory($category, $level = 0) {
    echo str_repeat('  ', $level) . $category->name . "\n";
    foreach ($category->children as $child) {
        displayCategory($child, $level + 1);
    }
}

displayCategory($category);
```

### **Get All Products in Category and Subcategories**
```php
function getProductsRecursive($category) {
    $products = $category->products;
    
    foreach ($category->children as $child) {
        $products = $products->merge(getProductsRecursive($child));
    }
    
    return $products;
}

$medicalImaging = ProductCategory::where('slug', 'medical-imaging')->first();
$allProducts = getProductsRecursive($medicalImaging);
```

### **Build Breadcrumb Navigation**
```php
function getBreadcrumbs($category) {
    $breadcrumbs = [$category];
    $parent = $category->parent;
    
    while ($parent) {
        array_unshift($breadcrumbs, $parent);
        $parent = $parent->parent;
    }
    
    return $breadcrumbs;
}

$digitalXray = ProductCategory::where('slug', 'digital-xray')->first();
$breadcrumbs = getBreadcrumbs($digitalXray);

// Output: Medical Imaging > X-Ray Machines > Digital X-Ray
echo implode(' > ', array_map(fn($c) => $c->name, $breadcrumbs));
```

---

## ğŸ¨ FRONTEND EXAMPLES

### **Category Dropdown (Hierarchical)**
```php
function getCategoryOptions($parentId = null, $level = 0) {
    $categories = ProductCategory::where('parent_id', $parentId)
        ->active()
        ->ordered()
        ->get();
    
    $options = [];
    foreach ($categories as $category) {
        $options[$category->id] = str_repeat('â€”', $level) . ' ' . $category->name;
        $options = array_merge($options, getCategoryOptions($category->id, $level + 1));
    }
    
    return $options;
}

// In Blade:
<select name="category_id">
    <option value="">Select Category</option>
    @foreach(getCategoryOptions() as $id => $name)
        <option value="{{ $id }}">{{ $name }}</option>
    @endforeach
</select>
```

### **Category Tree (Nested List)**
```blade
@foreach($rootCategories as $category)
    <li>
        <a href="/products?category={{ $category->slug }}">
            {{ $category->name }}
            @if($category->name_ar)
                ({{ $category->name_ar }})
            @endif
        </a>
        @if($category->children->count() > 0)
            <ul>
                @include('partials.category-tree', ['categories' => $category->children])
            </ul>
        @endif
    </li>
@endforeach
```

---

## ğŸ“Š REPORTING EXAMPLES

### **Products Count by Category**
```php
$categories = ProductCategory::withCount('products')->get();

foreach ($categories as $category) {
    echo "{$category->name}: {$category->products_count} products\n";
}
```

### **Most Popular Categories**
```php
$popularCategories = ProductCategory::withCount('products')
    ->having('products_count', '>', 0)
    ->orderByDesc('products_count')
    ->limit(10)
    ->get();
```

---

## ğŸš€ DEPLOYMENT CHECKLIST

- [ ] Run migrations: `php artisan migrate:fresh`
- [ ] Create ProductCategorySeeder
- [ ] Seed initial categories: `php artisan db:seed --class=ProductCategorySeeder`
- [ ] Verify category hierarchy: `php artisan tinker` â†’ `ProductCategory::with('children')->roots()->get()`
- [ ] Assign categories to existing products (if any)
- [ ] Update product forms to use category dropdown
- [ ] Add category filter to product listing
- [ ] Test category breadcrumbs
- [ ] Verify soft delete behavior
- [ ] Test auto-slug generation

---

**Ready to use!** ğŸ‰

